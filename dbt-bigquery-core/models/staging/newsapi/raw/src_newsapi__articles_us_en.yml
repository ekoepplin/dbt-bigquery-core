version: 2

models:
  - name: src_newsapi__articles_us_en
    description: "Raw US English articles from NewsAPI"
    tests:
      - dbt_expectations.expect_table_row_count_to_be_between:
          min_value: 1
          max_value: 1000000
    columns:
      - name: source__name
        description: "Name of the news source"
        tests:
          - not_null
      - name: author
        description: "Author of the article"
      - name: title
        description: "Title of the article"
        tests:
          - not_null
      - name: description
        description: "Description or summary of the article"
      - name: url
        description: "URL to the article"
        tests:
          - not_null
          - unique
          - dbt_expectations.expect_column_values_to_match_regex:
              regex: '^https?://.*$'
      - name: url_to_image
        description: "URL to the article's image"
      - name: published_at
        description: "Publication date and time"
        tests:
          - not_null
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: timestamp
      - name: content
        description: "Article content"
      - name: _dlt_load_id
        description: "Load ID from data loading tool"
      - name: _dlt_id
        description: "Unique ID from data loading tool"
        tests:
          - not_null
          - unique 